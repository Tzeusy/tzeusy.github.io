1:"$Sreact.fragment"
1d:I[5500,["/_next/static/chunks/1b2d64756f20754f.js"],"Image"]
1e:I[97367,["/_next/static/chunks/ff1a16fafef87110.js","/_next/static/chunks/d2be314c3ece3fbe.js"],"OutletBoundary"]
1f:"$Sreact.suspense"
0:{"buildId":"y6JfkF5vJlj65YhSLu4Tc","rsc":["$","$1","c",{"children":[["$","article",null,{"className":"space-y-10","children":[["$","p",null,{"className":"border border-rule px-4 py-2 text-sm text-muted","children":"This post is a draft and is not listed publicly."}],["$","header",null,{"className":"space-y-4","children":[["$","p",null,{"className":"text-sm text-muted","children":[["$","time",null,{"dateTime":"2026-02-07","children":"2026-02-07"}]," · ","6 min read"]}],["$","h1",null,{"className":"text-balance text-4xl sm:text-5xl","children":"Handwaving Magicka"}],["$","p",null,{"className":"text-lg text-muted","children":"Using computer vision and emulated controller input to cast spells in Magicka through real hand gestures."}],["$","p",null,{"className":"text-sm text-muted","children":[["$","span","computer-vision",{"children":["","computer-vision"]}],["$","span","gesture-recognition",{"children":[" · ","gesture-recognition"]}],["$","span","gaming",{"children":[" · ","gaming"]}],["$","span","real-time",{"children":[" · ","real-time"]}],["$","span","emulation",{"children":[" · ","emulation"]}],["$","span","draft",{"children":[" · ","draft"]}]]}]]}],["$","nav",null,{"className":"space-y-2 border-y border-rule py-4","children":[["$","p",null,{"className":"text-sm uppercase tracking-[0.08em] text-accent","children":"In this essay"}],["$","ol",null,{"className":"space-y-1 text-sm text-muted","children":[["$","li","introduction",{"style":{"paddingLeft":"0rem"},"children":["$","a",null,{"href":"#introduction","children":"Introduction"}]}],["$","li","components",{"style":{"paddingLeft":"0rem"},"children":["$","a",null,{"href":"#components","children":"Components"}]}],["$","li","event-framework",{"style":{"paddingLeft":"1rem"},"children":["$","a",null,{"href":"#event-framework","children":"Event framework"}]}],["$","li","control-interface",{"style":{"paddingLeft":"1rem"},"children":["$","a",null,{"href":"#control-interface","children":"Control interface"}]}],["$","li","ml-inference",{"style":{"paddingLeft":"1rem"},"children":["$","a",null,{"href":"#ml-inference","children":"ML Inference"}]}],["$","li","end-result",{"style":{"paddingLeft":"0rem"},"children":["$","a",null,{"href":"#end-result","children":"End Result"}]}],["$","li","reflections-on-past-me",{"style":{"paddingLeft":"1rem"},"children":["$","a",null,{"href":"#reflections-on-past-me","children":"Reflections on past me"}]}],["$","li","closing-thought",{"style":{"paddingLeft":"1rem"},"children":["$","a",null,{"href":"#closing-thought","children":"Closing thought"}]}]]}]]}],["$","section",null,{"className":"blog-post-content-underlines space-y-4 text-justify hyphens-auto","children":[["$","aside",null,{"className":"my-6 rounded-md border px-4 py-3 text-sm text-foreground","style":{"backgroundColor":"var(--callout-info-bg)","borderColor":"var(--callout-info-border)"},"children":[["$","p",null,{"className":"mb-1 text-xs font-medium uppercase tracking-wide text-muted","children":"Note"}],["$","div",null,{"className":"[&>p]:my-1","children":["$","p",null,{"className":"my-5 text-base text-foreground ","children":["This is a retroactive blog post reflecting on our magicka2-real-spellcasting ",["$","a",null,{"href":"https://github.com/Yustynn/magicka2-real-spellcasting","children":"project"}]," for Hack N Roll 2019."]}]}]]}],"\n",["$","h1",null,{"className":"mt-10 text-4xl sm:text-5xl ","id":"introduction","children":"Introduction"}],"\n",["$","p",null,{"className":"my-5 text-base text-foreground ","children":"Way back in 2019, before headsets like today's Meta Quest line and Apple Vision Pro were mainstream consumer products, we had the bright idea of trying to play Magicka with hand gestures Harry Potter-style, rather than with the typical mouse and keyboard. We figured Hack N Roll 2019 was probably a good place to try it out!"}],"\n",["$","p",null,{"className":"my-5 text-base text-foreground ","children":[["$","a",null,{"href":"https://en.wikipedia.org/wiki/Magicka_2","children":"Magicka 2"}]," is a multiplayer action-adventure game where players control wizards that have access to eight 'elements'. These elements interact with each other dynamically; with things like \"Water\" and \"Fire\" combining to create \"Steam\". On top of that, specific combinations of elements can be combined to create custom spells, with Meteor-style spells requiring specific multi-element sequences. This is similar in a way to Invoker from DoTA; except instead of three elements and 10 spells, Magicka has eight elements and a much larger number of possible spell combinations."]}],"\n","$L2","\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a"]}],null,"$L1b"]}],null,"$L1c"]}],"loading":null,"isPartial":false}
2:["$","p",null,{"className":"my-5 text-base text-foreground ","children":"Usually this is played via keyboard (casting elements mapped to keys) or a controller, using the joystick to identify elements."}]
3:["$","p",null,{"className":"my-5 text-base text-foreground ","children":"This began with some requirements scoping:"}]
4:["$","ol",null,{"className":"my-5 list-decimal space-y-2 pl-6 text-foreground ","children":["\n",["$","li",null,{"children":"The 'feeling of awesomeness' lies entirely in being able to convert memorized gestures to spells in Magicka"}],"\n",["$","li",null,{"children":["Movement still needs to be intuitive, and simultaneous movement + casting is common. Movement also dictates the ",["$","em",null,{"children":"direction"}]," of an invoked spell."]}],"\n",["$","li",null,{"children":"Given the nature of the event (a 24 hour Hackathon), we likely have to write wrappers around existing control interfaces for the game, rather than wiring our own mappings from our controls directly to game inputs"}],"\n"]}]
5:["$","h1",null,{"className":"mt-10 text-4xl sm:text-5xl ","id":"components","children":"Components"}]
6:["$","h2",null,{"className":"mt-10 text-3xl ","id":"event-framework","children":"Event framework"}]
7:["$","p",null,{"className":"my-5 text-base text-foreground ","children":"We decided to use asyncio for this task, as this is a heavily I/O-constrained use case. Multithreading was also an option but would have been much more complex to manage given the GIL. In hindsight, this would probably have been much better written as a Go application."}]
8:["$","h2",null,{"className":"mt-10 text-3xl ","id":"control-interface","children":"Control interface"}]
9:["$","p",null,{"className":"my-5 text-base text-foreground ","children":["We decided to emulate an Xbox controller for the task, as it allows for full 360-degree navigation (mouse/keyboard are tied down to 8 directions via WASD). Existing bindings existed for emulation of Xbox controls, meaning we wouldn't need to interface with the game itself, only the OS; the game 'simply sees' an Xbox controller. This was done leveraging the ",["$","a",null,{"href":"https://python-evdev.readthedocs.io/en/latest/","children":"evdev"}]," library."]}]
a:["$","p",null,{"className":"my-5 text-base text-foreground ","children":"Various other interfaces were also necessary, like OpenCV interaction with a webcam."}]
b:["$","p",null,{"className":"my-5 text-base text-foreground ","children":"To allow for simultaneous movement and spells, we simply split control by hand: left hand for movement, and right hand for custom spells. The left hand would permanently be used for movement; clenching a fist to indicate an 'anchor', and moving the clenched fist up/down/left/right to map to the 360 degree movement options of the game."}]
c:["$","h2",null,{"className":"mt-10 text-3xl ","id":"ml-inference","children":"ML Inference"}]
d:["$","p",null,{"className":"my-5 text-base text-foreground ","children":"The 'magic sauce' lies here - mapping gestures to spells. Given time constraints and the idea of pursuing a proof of concept, we decided to use the well-known MNIST dataset for image recognition; the general pipeline would then be:"}]
e:["$","p",null,{"className":"my-5 text-base text-foreground ","children":["$","code",null,{"children":"Camera watches player's right hand for distinct gestures -> gesture is converted into a JPG -> JPG is mapped to a digit via MNIST -> target spell is inferred -> Spell's element invocation sequence is invoked."}]}]
f:["$","p",null,{"className":"my-5 text-base text-foreground ","children":"This unfortunately comes pegged with a bunch of latency problems; end to end, this (highly unoptimized) pipeline can take up to a second to complete the full gesture recognition loop. However, this was acceptable for a POC; and with modern hardware plus optimized pipelines, I'd expect we could drive this down significantly from what we achieved in 2019."}]
10:["$","p",null,{"className":"my-5 text-base text-foreground ","children":"There were a few other constraints here - requirements for high contrast for reliable hand tracking (so we had to hold colored balls; think green screens), poor cardinality mapping (we only have 10 'digits' in MNIST, which pales in comparison to the thousands of combinations of possible elements and spells) being some of them - but ultimately all we wanted was to cast spells using our hands, so we bulldozed on and designed for that."}]
11:["$","h1",null,{"className":"mt-10 text-4xl sm:text-5xl ","id":"end-result","children":"End Result"}]
12:["$","p",null,{"className":"my-5 text-base text-foreground ","children":["The culmination of the hackathon was a jankily wired up Python-based ",["$","code",null,{"children":"OpenCV"}],"/",["$","code",null,{"children":"asyncio"}],"/",["$","code",null,{"children":"evdev"}]," application forwarding commands to a live Magicka instance on our laptops. We threw in multiplayer support (multiple webcams on multiple laptops each emulating 'one controller') just so we could sling Meteor Showers at each other as well."]}]
13:["$","p",null,{"className":"my-5 text-base text-foreground ","children":["$","$L1d",null,{"className":"my-6 h-auto w-full rounded-md border border-rule ","alt":"Magicka Spell Slinging","src":"/blog/handwaving-magicka/magicka.gif","width":1200,"height":630,"sizes":"100vw"}]}]
14:["$","p",null,{"className":"my-5 text-base text-foreground ","children":"The end result was that in the last hours of the hackathon, our sleep deprived selves were having a blast throwing spells at each other as everyone hectically rushed to finish their projects."}]
15:["$","p",null,{"className":"my-5 text-base text-foreground ","children":"Very tragically, however, the judges completely forgot to judge us (they said they'd loop around to our table, and never did), so we never got to show it off and compete for prizes :("}]
16:["$","h2",null,{"className":"mt-10 text-3xl ","id":"reflections-on-past-me","children":"Reflections on past me"}]
17:["$","p",null,{"className":"my-5 text-base text-foreground ","children":"Looking back on our silly project 8 years ago, there are quite a few things that would likely be very different today."}]
18:["$","ul",null,{"className":"my-5 list-disc space-y-2 pl-6 text-foreground ","children":["\n",["$","li",null,{"children":["Interfaces for input control have developed significantly since then; for example, the Nintendo Switch's ",["$","a",null,{"href":"https://en.wikipedia.org/wiki/Joy-Con","children":"Joy-Cons"}]," or the Quest's ",["$","a",null,{"href":"https://en.wikipedia.org/wiki/Quest_2#Controllers","children":"Oculus Touch"}]," controllers have feature sets that include full gyroscopic inputs and accelerometers. Figuring out whether we can access their SDKs is a different matter.... but would likely unlock ",["$","em",null,{"children":"much more"}]," flexibility.","\n",["$","ul",null,{"className":"my-5 list-disc space-y-2 pl-6 text-foreground ","children":["\n",["$","li",null,{"children":["For example, a joystick on a controller could've been used for movements, unlocking ",["$","em",null,{"children":"both hands"}]," for spellcasting!"]}],"\n"]}],"\n"]}],"\n",["$","li",null,{"children":"The state of CV has progressed significantly, though that might not be necessary given gyroscopic input controllers"}],"\n",["$","li",null,{"children":"Given our relatively clear requirements and availability of existing libraries, it could've probably been vibe-coded relatively easily on a language like Go today."}],"\n",["$","li",null,{"children":"Speeding up ML inference by leveraging GPUs and worker pools"}],"\n",["$","li",null,{"children":["Some way to access the elements themselves rather than simply the ensuing spells. This is probably a conversation the Magicka developers themselves have had, when designing controller support; the current state (right joystick) feels a little underoptimized to me, as spellcasting is ",["$","em",null,{"children":"much"}]," faster on keyboard rather than controller. 8 cardinal directions -> 8 element mapping, maybe?"]}],"\n"]}]
19:["$","h2",null,{"className":"mt-10 text-3xl ","id":"closing-thought","children":"Closing thought"}]
1a:["$","p",null,{"className":"my-5 text-base text-foreground ","children":"Even with all the hackathon jank, this project still reminds me that good prototypes are about validating the feel of an idea fast. If I rebuilt this now, I'd keep the same core goal, tighten the gesture pipeline, and design around modern controllers from day one."}]
1b:["$","footer",null,{"className":"grid gap-4 border-t border-rule pt-8 text-sm sm:grid-cols-2","children":[["$","div",null,{"children":null}],["$","div",null,{"className":"sm:text-right","children":null}]]}]
1c:["$","$L1e",null,{"children":["$","$1f",null,{"name":"Next.MetadataOutlet","children":"$@20"}]}]
20:null
