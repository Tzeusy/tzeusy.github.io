(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,20110,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(18566),n=e.i(22016);let a=new Intl.DateTimeFormat("en-US",{month:"short",day:"2-digit",year:"numeric",timeZone:"UTC"});function l({slug:e,title:r,date:s,readingTime:l,isDraft:i}){return(0,t.jsx)("li",{className:"border-b border-rule py-3",children:(0,t.jsxs)(n.default,{href:`/blog/${e}`,className:"grid grid-cols-[1fr_auto] items-baseline gap-4",children:[(0,t.jsxs)("span",{className:"text-lg text-foreground",children:[r,i?(0,t.jsx)("span",{className:"ml-2 text-xs uppercase tracking-wide text-muted",children:"Draft"}):null]}),(0,t.jsxs)("span",{className:"text-sm text-muted",children:[a.format(new Date(s))," · ",l]})]})})}function i({posts:e,allPosts:n,tags:a,draftSlugs:i}){let o="true"===(0,s.useSearchParams)().get("drafts"),u=o?n:e,d=(0,r.useMemo)(()=>new Set(i),[i]),[c,m]=(0,r.useState)([]),[x,h]=(0,r.useState)(!1),[g,f]=(0,r.useState)(""),p=(0,r.useRef)(null),b=(0,r.useRef)(null),j=(0,r.useMemo)(()=>{if(0===c.length)return u;let e=new Set(c);return u.filter(t=>t.tags.some(t=>e.has(t.trim().toLowerCase())))},[u,c]),v=c.length>0,N=(0,r.useMemo)(()=>{if(!g.trim())return a;let e=g.trim().toLowerCase();return a.filter(t=>t.label.toLowerCase().includes(e))},[a,g]);return(0,r.useEffect)(()=>{x&&requestAnimationFrame(()=>b.current?.focus())},[x]),(0,r.useEffect)(()=>{if(x)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e);function e(e){p.current&&!p.current.contains(e.target)&&(h(!1),f(""))}},[x]),(0,t.jsxs)("div",{className:"space-y-6",children:[o?(0,t.jsx)("p",{className:"border border-rule px-4 py-2 text-sm text-muted",children:"Draft preview mode — drafts are visible on this page."}):null,a.length>0?(0,t.jsxs)("div",{ref:p,className:"relative",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>h(e=>{let t=!e;return t||f(""),t}),className:"flex items-center gap-1.5 text-sm uppercase tracking-[0.08em] text-accent",children:["Categories",(0,t.jsx)("svg",{className:`h-3.5 w-3.5 transition-transform ${x?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,"aria-hidden":"true",children:(0,t.jsx)("path",{d:"m6 9 6 6 6-6",strokeLinecap:"round",strokeLinejoin:"round"})})]}),(0,t.jsx)("span",{className:"text-muted",children:v?`Showing ${j.length} of ${u.length}`:`${u.length} essays`}),v?(0,t.jsx)("button",{type:"button",onClick:function(){m([])},className:"text-muted hover:underline",children:"Clear"}):null]}),x?(0,t.jsxs)("div",{className:"absolute left-0 z-10 mt-2 max-w-[min(400px,calc(100vw-3rem))] rounded border border-rule bg-background shadow-sm",children:[(0,t.jsx)("div",{className:"border-b border-rule px-3 py-2",children:(0,t.jsx)("input",{ref:b,type:"text",value:g,onChange:e=>f(e.target.value),placeholder:"Filter categories...",className:"w-full bg-transparent text-sm text-foreground placeholder:text-muted outline-none"})}),(0,t.jsx)("div",{className:"flex max-h-48 flex-wrap gap-2 overflow-y-auto p-3",children:N.length>0?N.map(e=>{let r=c.includes(e.id);return(0,t.jsx)("button",{type:"button",onClick:()=>{var t;return t=e.id,void m(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},"aria-pressed":r,className:`rounded-full border px-3 py-1 text-sm ${r?"border-foreground bg-foreground/[0.06] text-foreground":"border-rule text-muted"}`,children:e.label},e.id)}):(0,t.jsx)("span",{className:"text-sm text-muted",children:"No matching categories."})})]}):null]}):null,j.length>0?(0,t.jsx)("ol",{children:j.map(e=>(0,t.jsx)(l,{slug:e.slug,title:e.title,date:e.date,readingTime:e.readingTime,isDraft:d.has(e.slug)},e.slug))}):(0,t.jsx)("p",{className:"text-muted",children:"No essays match those categories."})]})}e.s(["BlogFilter",()=>i],20110)}]);